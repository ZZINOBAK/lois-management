<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<!-- ============ STEP 1 ============ -->
<div th:fragment="step1">
    <form th:action="@{/reservations/step/1}" method="post"
          th:attr="hx-post=@{/reservations/step/1}"
          hx-target="#step-container"
          hx-swap="innerHTML"
          class="step-form">

        <!-- ì œëª© + ë‹¤ìŒ ë²„íŠ¼ í•œ ì¤„ -->
        <div class="section-head">
            <h2 class="title">ì¼€ì´í¬ ì„ íƒ</h2>
            <button type="submit" class="btn-next">ë‹¤ìŒ</button>
        </div>

        <!-- 3Ã—3 ê·¸ë¦¬ë“œ -->
        <div class="grid cake-grid">
            <label class="option" th:each="c : ${cakes}">
                <input type="radio" name="cakeId" th:value="${c.id}" required />
                <div class="card">
                    <div class="card__title" th:text="${c.flavor}">ë”¸ê¸° ìƒí¬ë¦¼</div>
                </div>
            </label>
        </div>

    </form>
</div>

<!-- ============ STEP 2 ============ -->
<div th:fragment="step2">
    <form th:action="@{/reservations/step/2}" method="post"
          th:attr="hx-post=@{/reservations/step/2}"
          hx-target="#step-container"
          hx-swap="innerHTML"
          class="step-form">

        <!-- ì œëª© + ì´ì „/ë‹¤ìŒ ë²„íŠ¼ (ìŠ¤í…1ê³¼ ë™ì¼ ë¼ì¸) -->
        <div class="section-head">
            <h2 class="title">ë‚ ì§œ ì„ íƒ</h2>
            <div class="actions">
                <!-- ì´ì „: ì¡°ê° GET -->
                <button type="button" class="btn"
                        hx-get="@{/reservations/step/1}"
                        hx-target="#step-container"
                        hx-swap="innerHTML">ì´ì „</button>

                <!-- ë‹¤ìŒ: ì„ íƒ ì „ê¹Œì§€ ë¹„í™œì„±í™” -->
                <button type="submit" class="btn-primary" id="btn-next-step2" disabled>ë‹¤ìŒ</button>
            </div>
        </div>

        <!-- ì„œë²„ë¡œ ë³´ë‚¼ ì‹¤ì œ ê°’ -->
        <input type="hidden" name="date" id="picked-date">

        <!-- ë‹¬ë ¥ ì»´í¬ë„ŒíŠ¸ -->
        <div class="calendar" id="calendar">
            <div class="cal-head">
                <button type="button" class="cal-nav" id="cal-prev" aria-label="ì´ì „ ë‹¬">â—€</button>
                <div class="cal-title" id="cal-title">2025ë…„ 11ì›”</div>
                <button type="button" class="cal-nav" id="cal-next" aria-label="ë‹¤ìŒ ë‹¬">â–¶</button>
                <!-- ì˜¤ëŠ˜ ë²„íŠ¼ ì¶”ê°€ -->
                <button type="button" class="btn-today" id="cal-today">ì˜¤ëŠ˜</button>
            </div>

            <div class="cal-weekdays">
                <div>ì¼</div><div>ì›”</div><div>í™”</div><div>ìˆ˜</div><div>ëª©</div><div>ê¸ˆ</div><div>í† </div>
            </div>

            <div class="cal-grid" id="cal-grid">
                <!-- JSê°€ ë‚ ì§œ ì…€ì„ ì±„ì›€ -->
            </div>
        </div>
    </form>


    <!-- ë‚ ì§œ ë¹„í™œì„±í™” í‘œì‹œìš© CSS -->
    <style>
        .cal-cell.disabled {
            cursor: not-allowed;
            color: #cccccc !important;
            background: #f4f4f4 !important;
            opacity: 0.6;
        }
    </style>

    <!-- ìŠ¤í…2 ì „ìš© ìŠ¤í¬ë¦½íŠ¸ (í”„ë˜ê·¸ë¨¼íŠ¸ ì•ˆì—ì„œë§Œ ë™ì‘) -->
    <script>
        (function () {
          // ===== ì„¤ì •ê°’ =====
          const MAX_MONTHS = 3;        // ì˜¤ëŠ˜ë¡œë¶€í„° 3ê°œì›” í›„ê¹Œì§€
          const CLOSED_WEEKDAY = 0;    // 0 = ì¼ìš”ì¼ íœ´ë¬´

          // ===== ë‚ ì§œ ìœ í‹¸ =====
          const pad = n => String(n).padStart(2, '0');
          function fmt(date) {
            return date.getFullYear() + '-' + pad(date.getMonth()+1) + '-' + pad(date.getDate());
          }
          function startOfDay(d) {
            const x = new Date(d);
            x.setHours(0,0,0,0);
            return x;
          }

          const TODAY = startOfDay(new Date());
          const maxDate = (function () {
            const d = startOfDay(new Date());
            d.setMonth(d.getMonth() + MAX_MONTHS);
            return d;
          })();

          function isBefore(a, b) { return a.getTime() < b.getTime(); }
          function isAfter(a, b)  { return a.getTime() > b.getTime(); }

          // ===== ìƒíƒœ =====
          const state = {
            viewYear: TODAY.getFullYear(),
            viewMonth: TODAY.getMonth(), // 0~11
            selected: null               // Date ê°ì²´
          };

          // ===== ì—˜ë¦¬ë¨¼íŠ¸ =====
          const $title    = document.getElementById('cal-title');
          const $grid     = document.getElementById('cal-grid');
          const $prev     = document.getElementById('cal-prev');
          const $next     = document.getElementById('cal-next');
          const $btnToday = document.getElementById('cal-today');
          const $hidden   = document.getElementById('picked-date');
          const $btnNext  = document.getElementById('btn-next-step2');

          // ===== ë Œë” =====
          function render() {
            const y = state.viewYear, m = state.viewMonth;
            $title.textContent = `${y}ë…„ ${m+1}ì›”`;
            $grid.innerHTML = '';

            const first = new Date(y, m, 1);
            const last  = new Date(y, m+1, 0);
            const startWeekday = first.getDay();    // 0(ì¼)~6(í† )
            const daysInMonth  = last.getDate();

            // ë¦¬ë“œ ë¸”ë­í¬
            for (let i=0; i<startWeekday; i++) {
              const blank = document.createElement('div');
              blank.className = 'cal-cell blank';
              $grid.appendChild(blank);
            }

            // ë‚ ì§œ ì…€
            for (let d=1; d<=daysInMonth; d++) {
              const cell = document.createElement('button');
              cell.type = 'button';
              cell.className = 'cal-cell day';
              cell.textContent = d;

              const cellDate = startOfDay(new Date(y, m, d));
              cell.dataset.date = fmt(cellDate);

              // ì˜¤ëŠ˜ í‘œì‹œ
              if (cellDate.getTime() === TODAY.getTime()) {
                cell.classList.add('today');
              }

              // ì„ íƒ í‘œì‹œ
              if (state.selected && startOfDay(state.selected).getTime() === cellDate.getTime()) {
                cell.classList.add('selected');
              }

              // ===== ì˜ˆì•½ ë¶ˆê°€ ì¡°ê±´ =====
              let disabled = false;

              // 1) ì˜¤ëŠ˜ ì´ì „
              if (isBefore(cellDate, TODAY)) disabled = true;

              // 2) ìµœëŒ€ ì˜ˆì•½ì¼ ì´í›„
              if (isAfter(cellDate, maxDate)) disabled = true;

              // 3) íœ´ë¬´ì¼(ì¼ìš”ì¼)
              if (cellDate.getDay() === CLOSED_WEEKDAY) disabled = true;

              if (disabled) {
                cell.classList.add('disabled');
                cell.disabled = true; // ë²„íŠ¼ ìì²´ ë¹„í™œì„±í™”
              }

              $grid.appendChild(cell);
            }
          }

          // ===== ì´ë²¤íŠ¸: ì´ì „/ë‹¤ìŒ ë‹¬ =====
          $prev.addEventListener('click', () => {
            state.viewMonth--;
            if (state.viewMonth < 0) { state.viewMonth = 11; state.viewYear--; }
            render();
          });

          $next.addEventListener('click', () => {
            state.viewMonth++;
            if (state.viewMonth > 11) { state.viewMonth = 0; state.viewYear++; }
            render();
          });

          // ===== ì´ë²¤íŠ¸: ë‚ ì§œ í´ë¦­ =====
          $grid.addEventListener('click', (e) => {
            const btn = e.target.closest('.cal-cell.day');
            if (!btn || btn.disabled) return; // ë¹„í™œì„± ì…€ í´ë¦­ ë°©ì§€

            const [yy, mm, dd] = btn.dataset.date.split('-').map(Number);
            state.selected = new Date(yy, mm-1, dd);

            // hidden ê°’/ë²„íŠ¼ í™œì„±í™”
            $hidden.value = btn.dataset.date;
            $btnNext.disabled = false;

            // ì„ íƒ í´ë˜ìŠ¤ ê°±ì‹ 
            $grid.querySelectorAll('.cal-cell.day.selected')
                 .forEach(n => n.classList.remove('selected'));
            btn.classList.add('selected');
          });

          // ===== ì´ë²¤íŠ¸: ì˜¤ëŠ˜ ë²„íŠ¼ =====
          $btnToday.addEventListener('click', () => {
            const today = new Date(TODAY);

            // ë·°ë¥¼ ì˜¤ëŠ˜ ë‹¬ë¡œ ì´ë™
            state.viewYear  = today.getFullYear();
            state.viewMonth = today.getMonth();

            // ì˜¤ëŠ˜ì´ íœ´ë¬´ / ë²”ìœ„ ë°–ì´ë©´ ì„ íƒì€ ëª»í•˜ê²Œë§Œ í•˜ê³ , ë‹¬ë§Œ ë³´ì—¬ì¤Œ
            const disabled = (today.getDay() === CLOSED_WEEKDAY || isAfter(today, maxDate));

            if (disabled) {
              render();
              alert('ì˜¤ëŠ˜ì€ ì˜ˆì•½ì´ ë¶ˆê°€í•œ ë‚ ì…ë‹ˆë‹¤.');
              return;
            }

            // ì„ íƒ ê°€ëŠ¥í•˜ë©´ ë°”ë¡œ ì„ íƒ
            state.selected = today;
            $hidden.value = fmt(today);
            $btnNext.disabled = false;
            render();
          });

          // ì´ˆê¸° ë Œë”
          render();
        })();
    </script>
</div>

<!-- ============ STEP 3 ============ -->
<div th:fragment="step3">
    <form th:action="@{/reservations/step/3}" method="post"
          th:attr="hx-post=@{/reservations/step/3}"
          hx-target="#step-container"
          hx-swap="innerHTML"
          class="step-form">

        <!-- ì œëª© + ì´ì „/ë‹¤ìŒ ë²„íŠ¼ -->
        <div class="section-head">
            <h2 class="title">ìˆ˜ë ¹ ì‹œê°„</h2>
            <div class="actions">
                <button type="button" class="btn"
                        hx-get="@{/reservations/step/2}"
                        hx-target="#step-container"
                        hx-swap="innerHTML">ì´ì „</button>

                <button type="submit" class="btn-primary" id="btn-next-step3" disabled>ë‹¤ìŒ</button>
            </div>
        </div>

        <!-- ì„œë²„ë¡œ ë³´ë‚¼ ì‹¤ì œ ê°’(HH:MM) -->
        <input type="hidden" name="time" id="picked-time" required>

        <!-- ì‹œê°„ ì„ íƒ: ì‹œ -->
        <div class="time-section">
            <div class="time-label">ì‹œ</div>
            <div class="time-grid" id="hour-grid" role="group" aria-label="ì‹œ(hour)">
                <!-- 9 ~ 21 ë²„íŠ¼ ìƒì„± (ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ì±„ì›€) -->
            </div>
        </div>

        <!-- ì‹œê°„ ì„ íƒ: ë¶„ -->
        <div class="time-section">
            <div class="time-label">ë¶„</div>
            <div class="time-grid" id="minute-grid" role="group" aria-label="ë¶„(minute)">
                <!-- 00, 30 ë²„íŠ¼ ìƒì„± (ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ì±„ì›€) -->
            </div>
        </div>
    </form>

    <!-- ìŠ¤í…3 ì „ìš© ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        (function () {
          const $hourGrid   = document.getElementById('hour-grid');
          const $minuteGrid = document.getElementById('minute-grid');
          const $hidden     = document.getElementById('picked-time');
          const $btnNext    = document.getElementById('btn-next-step3');

          const state = { hour: null, minute: null };

          const pad = n => String(n).padStart(2, '0');

          function renderHours() {
            for (let h = 9; h <= 21; h++) {
              const btn = document.createElement('button');
              btn.type = 'button';
              btn.className = 'btn-choice';
              btn.textContent = h;         // ì‹œë§Œ ìˆ«ìë¡œ
              btn.dataset.value = h;
              $hourGrid.appendChild(btn);
            }
          }

          function renderMinutes() {
            [0, 30].forEach(m => {
              const btn = document.createElement('button');
              btn.type = 'button';
              btn.className = 'btn-choice';
              btn.textContent = pad(m);
              btn.dataset.value = pad(m);
              $minuteGrid.appendChild(btn);
            });
          }

          function updateSelectionUI(groupEl, value) {
            groupEl.querySelectorAll('.btn-choice.selected').forEach(b => b.classList.remove('selected'));
            const target = groupEl.querySelector(`.btn-choice[data-value="${value}"]`);
            if (target) target.classList.add('selected');
          }

          function tryEnableNext() {
            if (state.hour !== null && state.minute !== null) {
              const hh = pad(Number(state.hour));
              const mm = state.minute; // ì´ë¯¸ pad ì²˜ë¦¬ë¨
              $hidden.value = `${hh}:${mm}`;
              $btnNext.disabled = false;
            } else {
              $hidden.value = '';
              $btnNext.disabled = true;
            }
          }

          // ì´ë²¤íŠ¸ ë°”ì¸ë”©
          $hourGrid.addEventListener('click', (e) => {
            const btn = e.target.closest('.btn-choice');
            if (!btn) return;
            state.hour = btn.dataset.value;
            updateSelectionUI($hourGrid, state.hour);
            tryEnableNext();
          });

          $minuteGrid.addEventListener('click', (e) => {
            const btn = e.target.closest('.btn-choice');
            if (!btn) return;
            state.minute = btn.dataset.value;
            updateSelectionUI($minuteGrid, state.minute);
            tryEnableNext();
          });

          // ì´ˆê¸° ë Œë”
          renderHours();
          renderMinutes();
        })();
    </script>
</div>

<!-- ============ STEP 4 ============ -->
<div th:fragment="step4">
    <form th:action="@{/reservations/step/4}" method="post"
          th:attr="hx-post=@{/reservations/step/4}"
          hx-target="#step-container"
          hx-swap="innerHTML"
          class="step-form">

        <!-- ì œëª© + ì´ì „/ë‹¤ìŒ ë²„íŠ¼ -->
        <div class="section-head">
            <h2 class="title">ì—°ë½ì²˜ ì…ë ¥</h2>
            <div class="actions">
                <button type="button" class="btn"
                        hx-get="@{/reservations/step/3}"
                        hx-target="#step-container"
                        hx-swap="innerHTML">ì´ì „</button>

                <button type="submit" class="btn-primary" id="btn-next-step4" disabled>ë‹¤ìŒ</button>
            </div>
        </div>

        <!-- í‘œì‹œìš© ì…ë ¥ì°½ -->
        <div class="phone-display">
            <span id="phone-prefix">010-</span>
            <span id="phone-body">____-____</span>
        </div>

        <!-- ì‹¤ì œ ì„œë²„ ì „ì†¡ìš© -->
        <input type="hidden" name="contact" id="hidden-phone" required>

        <!-- ìˆ«ì í‚¤íŒ¨ë“œ -->
        <div class="keypad">
            <button type="button" class="key">1</button>
            <button type="button" class="key">2</button>
            <button type="button" class="key">3</button>
            <button type="button" class="key">4</button>
            <button type="button" class="key">5</button>
            <button type="button" class="key">6</button>
            <button type="button" class="key">7</button>
            <button type="button" class="key">8</button>
            <button type="button" class="key">9</button>
            <button type="button" class="key del">â†</button>
            <button type="button" class="key">0</button>
            <button type="button" class="key clear">C</button>
        </div>
    </form>

    <script>
        (function () {
          const $body = document.getElementById('phone-body');
          const $hidden = document.getElementById('hidden-phone');
          const $btnNext = document.getElementById('btn-next-step4');
          const $keys = document.querySelectorAll('.keypad .key');

          let digits = ''; // 8ìë¦¬ (12345678)

          function updateDisplay() {
            let formatted = digits;
            if (formatted.length > 4)
              formatted = formatted.slice(0, 4) + '-' + formatted.slice(4);
            const padded = formatted.padEnd(9, '_');
            $body.textContent = padded;
            $hidden.value = '010-' + formatted;
            $btnNext.disabled = digits.length !== 8;
          }

          $keys.forEach(btn => {
            btn.addEventListener('click', () => {
              const val = btn.textContent;
              if (btn.classList.contains('del')) {
                digits = digits.slice(0, -1);
              } else if (btn.classList.contains('clear')) {
                digits = '';
              } else if (digits.length < 8) {
                digits += val;
              }
              updateDisplay();
            });
          });

          updateDisplay();


          // ====== HX-Trigger ì´ë²¤íŠ¸ ì²˜ë¦¬ (ì¤‘ë³µ ë°”ì¸ë”© ë°©ì§€) ======
      if (!window.__loisStep4HxBound) {
        window.__loisStep4HxBound = true;

        // ì„œë²„ì—ì„œ codeë§Œ ë‚´ë ¤ì£¼ê³ , ë¬¸êµ¬ëŠ” í”„ë¡ íŠ¸ì—ì„œ ë§¤í•‘
        const MESSAGES = {
          DUP_CONTACT: 'ë™ì¼í•œ ë²ˆí˜¸ì˜ ì˜ˆì•½ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ë„ ì˜ˆì•½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?',
          DUP_EXACT:   'ì´ë¯¸ ì˜ˆì•½ëœ ê±´ì…ë‹ˆë‹¤.'
        };

        // ì™„ì „ ë™ì¼ ì˜ˆì•½ â†’ ì§„í–‰ ì°¨ë‹¨(ì•Œë¦¼ë§Œ)
        document.body.addEventListener('lois:alert', function (evt) {
          const code = evt.detail && evt.detail.code;
          alert(MESSAGES[code] || 'ì•Œë¦¼');
        });

        // ë™ì¼ ë²ˆí˜¸ ì˜ˆì•½ ì¡´ì¬ â†’ í™•ì¸ ì‹œ force=trueë¡œ ê°™ì€ í¼ ì¬ì œì¶œ
        document.body.addEventListener('lois:confirm', function (evt) {
          const code = evt.detail && evt.detail.code;
          const ok = confirm(MESSAGES[code] || 'ê³„ì† ì§„í–‰í• ê¹Œìš”?');
          if (!ok) return;

          const form = document.querySelector('form.step-form');
          if (!form) return;

          // force=true hidden í•„ë“œ ì£¼ì…
          let forceInput = form.querySelector('input[name="force"]');
          if (!forceInput) {
            forceInput = document.createElement('input');
            forceInput.type = 'hidden';
            forceInput.name = 'force';
            form.appendChild(forceInput);
          }
          forceInput.value = 'true';

          // í˜„ì¬ ì…ë ¥ëœ ì—°ë½ì²˜ ê°’ ìœ ì§€ëœ ìƒíƒœë¡œ ì¬ì œì¶œ
          // (CSRF ì‚¬ìš© ì¤‘ì´ë©´ í¼ì— í¬í•¨ëœ _csrf í•„ë“œ/í—¤ë”ë„ í•¨ê»˜ ì „ì†¡ë¨)
          htmx.trigger(form, 'submit');
        });
      }
        })();
    </script>
</div>

<!-- ============ STEP 5 ============ -->
<div th:fragment="step5">
    <form th:action="@{/reservations/step/5}" method="post"
          th:attr="hx-post=@{/reservations/step/5}"
          hx-target="#step-container"
          hx-swap="innerHTML"
          class="step-form">

        <!-- ì œëª© + ì´ì „/ë‹¤ìŒ ë²„íŠ¼ -->
        <div class="section-head">
            <h2 class="title">ê²°ì œ ì—¬ë¶€</h2>
            <div class="actions">
                <button type="button" class="btn"
                        hx-get="@{/reservations/step/4}"
                        hx-target="#step-container"
                        hx-swap="innerHTML">ì´ì „</button>

                <button type="submit" class="btn-primary" id="btn-next-step5" disabled>ë‹¤ìŒ</button>
            </div>
        </div>

        <!-- ì‹¤ì œ ì „ì†¡ê°’ -->
        <input type="hidden" name="paid" id="hidden-paid" required>

        <!-- ê²°ì œ ì—¬ë¶€ ë²„íŠ¼ -->
        <div class="payment-options">
            <button type="button" class="pay-btn" data-value="true">ğŸ’³ ê²°ì œ ì™„ë£Œ</button>
            <button type="button" class="pay-btn" data-value="false">ğŸ’° ë¯¸ê²°ì œ</button>
        </div>
    </form>

    <script>
        (function () {
          const $buttons = document.querySelectorAll('.pay-btn');
          const $hidden = document.getElementById('hidden-paid');
          const $next = document.getElementById('btn-next-step5');

          $buttons.forEach(btn => {
            btn.addEventListener('click', () => {
              // ì„ íƒ ìƒíƒœ ê°±ì‹ 
              $buttons.forEach(b => b.classList.remove('selected'));
              btn.classList.add('selected');
              // ê°’ ì €ì¥ + ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
              $hidden.value = btn.dataset.value;
              $next.disabled = false;
            });
          });
        })();
    </script>
</div>

<!-- ============ STEP 6 ============ -->
<div th:fragment="step6">
    <form th:action="@{/reservations/finish}" method="post" class="step-form"
          onsubmit="return confirmFinish();">

        <div class="section-head">
            <h2 class="title">í™•ì¸</h2>
            <div class="actions">
                <button type="button" class="btn"
                        hx-get="@{/reservations/step/5}"
                        hx-target="#step-container"
                        hx-swap="innerHTML">ì´ì „</button>

                <button type="submit" class="btn-primary">ì™„ë£Œ</button>
            </div>
        </div>

        <p class="subtitle">ì˜ˆì•½ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ì™„ë£Œí•˜ì„¸ìš”.</p>

        <div class="summary-card">
            <div class="summary-grid">
                <div class="summary-label">ìˆ˜ë ¹ì¼</div>
                <div class="summary-value">
                    <span th:if="${reserve != null and reserve.resDate != null}"
                          th:text="${#temporals.format(reserve.resDate, 'yyyy-MM-dd')}">2025-11-10</span>
                </div>

                <div class="summary-label">ìˆ˜ë ¹ì‹œê°„</div>
                <div class="summary-value">
                    <span th:if="${reserve != null and reserve.resTime != null}"
                          th:text="${#temporals.format(reserve.resTime, 'HH:mm')}">10:00</span>
                </div>

                <div class="summary-label">ì¼€ì´í¬</div>
                <div class="summary-value" th:text="${reserve.cakeId}">ë”¸ê¸°ìƒí¬ë¦¼</div>

                <div class="summary-label">ì—°ë½ì²˜</div>
                <div class="summary-value" th:text="${reserve.contact}">010-0000-0000</div>

                <div class="summary-label">ê²°ì œìƒíƒœ</div>
                <div class="summary-value">
                    <span class="badge"
                          th:classappend="${reserve.paid} ? 'badge-paid' : 'badge-unpaid'"
                          th:text="${reserve.paid} ? 'ê²°ì œì™„ë£Œ' : 'ë¯¸ê²°ì œ'">ë¯¸ê²°ì œ</span>
                </div>

                <div class="summary-label" th:if="${reserve.note}">ìš”ì²­ì‚¬í•­</div>
                <div class="summary-value summary-note"
                     th:if="${reserve.note}" th:text="${reserve.note}"></div>
            </div>
        </div>
    </form>

    <script>
        function confirmFinish() {
          alert('ì˜ˆì•½ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ‰âœ¨ğŸŠğŸ’¥ğŸ¥³ğŸ’«ğŸ’–');
          return true;
        }
    </script>
</div>

<!-- ============ COMPLETE ============ -->
<div th:fragment="complete">
    <h2>ì˜ˆì•½ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ‰</h2>

    <button type="button" onclick="location.href='/'">í™ˆìœ¼ë¡œ</button>
    <button type="button"
            hx-get="@{/reservations/step/1}"
            hx-target="#step-container"
            hx-swap="innerHTML">
        ìƒˆ ì˜ˆì•½ ì‹œì‘
    </button>
</div>

</body>
</html>